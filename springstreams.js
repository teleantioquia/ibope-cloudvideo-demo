function SpringStreams(h){this.namespace="com.kantarmedia.sensors.javascript";this.version="2.5.2";var v="2cnt.net";var Z="barb";var f=200;var s=2000;var ag="default";var T=new Array();this.namespace="com.kma.springstreams";this.updateTimer=false;this.syncTimer=false;this.syncrate=20;this.pausesync=6;this.maxstates=50;var e=true;this.nextuid="";var ac={"+":"%2B",",":"%2C",";":"%3B","=":"%3D","~":"%7E","*":"%2A","'":"%27","!":"%21","(":"%28",")":"%29"};var a=this;var ad;K(t());if(h){ag=h}function k(m){console.debug(m)}function P(m){console.warn(m)}function t(){var m={"2cnt.net":{syncrates:[3,7,10,10,10,10,10,60]}};return m}function K(ah){var ai;if(ah){for(var m in ah){if(m===v&&Z!=="demo"){ai=ah[m]}}if(ai){L(ai.syncrates)}}}function L(m){if(m){ad=m}}function U(){return ad}this.getSyncRates=U;function z(ak,ah,aj){E();var m=aj;if(a.pageContext===undefined){if(!!window.cordova){if(device.platform==="browser"){a.debug("Detected cordova browser-mode falling back to HTML5 context / adapter");a.pageContext=a.defaultPageContext;m=this.HTML5Adapter}else{a.nlso=true;a.debug("Detected cordova context");a.pageContext=a.cordovaPageContext}}else{a.pageContext=a.defaultPageContext}}else{}if(a.pageContext.generateId!==undefined){a.pageContext.generateId()}if(!ak){return}a.pageContext.initHooks();var ai=new C(this,ak,ah,m);T.push(ai);return ai}this.track=z;function af(aj,ah,m,ai){if(ai!=this.nextuid){return}else{return this.track(aj,ah,m)}}this.trackWithUID=af;function o(){if(""==this.nextuid||null==this.nextuid){this.nextuid=R()}return this.nextuid}this.getNextUID=o;function R(){var m=Math.round((Math.random()*10000000000)).toString(36);var ah=new Date().getTime().toString(36);return ah+m}function E(){if(!this.updateTimer){this.updateTimer=setInterval(p,f)}if(!this.syncTimer){this.syncTimer=setInterval(x,s)}}function b(){this.nextuid="";clearInterval(this.updateTimer);clearInterval(this.syncTimer);this.updateTimer=false;this.syncTimer=false;for(var m=0;m<T.length;++m){try{T[m].stop()}catch(ah){O(ah)}}}this.unload=b;function p(ai){for(var m=0;m<T.length;++m){try{T[m].update(ai)}catch(ah){O(ah)}}}this.doUpdate=p;function x(ai){for(var m=0;m<T.length;++m){try{T[m].sync()}catch(ah){O(ah)}}}this.doSync=x;function O(m){Q("",m)}this.error=O;function A(ah,m){return B([[ah,m]])}function S(m){if(m&&m.site!==undefined){return m.site}return ag}function F(m){console.debug(m)}this.debug=F;function r(m){console.warn(m)}this.warn=r;function q(){if(a.pageContext.getWindowLocationURL()===undefined){return"http://"}if("https"===a.pageContext.getWindowLocationURL().slice(0,5)){return"https://ssl-"}else{return"http://"}}function W(){if(!a.nlso){try{var m="";var ai="i00";if(a.pageContext.getUniqueId!==undefined){ai=v}m=a.pageContext.getLocalStorageItem(ai);if(m){return"&c="+m}else{var ah="0000",ak=ah+Math.ceil((new Date()).getTime()/1000).toString(16)+(32768|Math.random()*65535).toString(16)+ah;a.pageContext.setLocalStorageItem(ai,ak)}}catch(aj){a.warn("error"+aj)}}return""}function Q(ai,ah){if(typeof(a.pageContext.tracking)!="undefined"){e=a.pageContext.tracking}if(e){if(typeof(ah.stream)=="undefined"||ah.stream==""){a.warn("Stream is mandatory for measurement")}else{var m=q()+S(ah)+"."+v+"/j0="+A(ai,ah)+"?lt="+(new Date()).getTime().toString(36)+W();a.pageContext.preloadImage(m);a.debug(m)}}}this.send=Q;function B(aj){var ah;var ak;var ai;var m;var al=/[+&,;=~!*'()]/g;var am;switch(typeof aj){case"string":return al.test(aj)?encodeURIComponent(aj).replace(al,function(an){var ao=ac[an];if(ao){return ao}return an}):encodeURIComponent(aj);case"number":return isFinite(aj)?aj.toString():"null";case"boolean":case"null":return aj.toString();case"object":if(!aj){return"null"}ah=[];if(typeof aj.length==="number"&&!(aj.propertyIsEnumerable("length"))){m=aj.length;for(ak=0;ak<m;ak+=1){ah.push(B(aj[ak])||"null")}return","+ah.join("+")+";"}for(ai in aj){if(typeof ai==="string"){if(ai!=="site"){am=B(aj[ai]);if(am){ah.push(B(ai)+"="+am)}}}}return","+ah.join("+")+";";default:}return""}function C(aF,aC,aD,aG){function aE(){var aM=Math.round((Math.random()*10000000000)).toString(36);var aN=new Date().getTime().toString(36);return aN+aM}var az="";az=aF.getNextUID();aF.nextuid=null;if(az==""){az=aE()}var am=Math.round(new Date().getTime()/1000);var au;var aK;var ax;var ar;var an=[0,0,am.toString(36)];var ao=0;var aL=0;var ap=true;var aj=false;var ay;var al;var ai;var m;var aJ=0;au=aF;aK=aC;if(aG){ay=aG}else{ay=au.HTML5Adapter}ar=aA(aD);ax=new Array();ax.push(an);m=0;al=aF.syncrate;ai=aF.getSyncRates();aw();function aH(){return az}function aA(aO){var aM=new Object();for(var aN in aO){aM[aN]=aO[aN]}return aM}function aI(aM){if(ax.length<au.maxstates){ax.push(aM)}}function ak(aM){an=[aM,aM,Math.round(new Date().getTime()/1000).toString(36)];aI(an);ap=true;ao=0}function aw(){if(ai!=null){if(m<ai.length){al=ai[m++];au.debug("switch syncrate to "+al)}}}function av(aM){setTimeout(function(){if(aM==Math.round(ay.getPosition(aK))||aM+1==Math.round(ay.getPosition(aK))){aJ++;if(aJ>=5){aJ=0;if(aM-an[1]>1||an[1]-aM>1){ak(aM)}}}else{aJ=0}},1000)}function aq(aP){if(aj){return}var aM=an[1];var aN=aM;try{aN=Math.round(ay.getPosition(aK))}catch(aQ){}try{if(aM===aN){if(ao>=0){ao++;if(ao===au.pausesync){ap=true}}return}if(ao>=au.pausesync){ak(aN)}else{if(aM<aN-1||aM>aN){av(aN)}else{an[1]=aN;if(an[1]-an[0]>=al&&aN-aL>=al){ap=true;aw()}ao=0}}}catch(aO){O=true;au.error(aO)}}this.update=aq;function aB(){if(aj){return}ap=true;aj=true;at(null)}this.stop=aB;function at(){if(a.pageContext.getSerialNumber!==undefined){a.pageContext.getSerialNumber(ah)}else{ah()}}this.sync=at;function ah(){if(ap){try{if(aK.width){ar.sx=aK.width}if(aK.videoWidth){ar.sx=aK.videoWidth}if(aK.height){ar.sy=aK.height}if(aK.videoHeight){ar.sy=aK.videoHeight}}catch(aO){}if(a.pageContext.getUniqueId!==undefined){ar.psid=a.pageContext.getUniqueId()}ar.uid=az;ar.pst=ax;var aN;try{if(!ar.dur||ar.dur===0){ar.dur=ay.getDuration(aK)}}catch(aO){}try{aN=ay.getMeta(aK);if(a.pageContext.getDeviceID!==undefined&&a.pageContext.getDeviceID()!==undefined){aN[a.pageContext.getDeviceID()["id_name"]]=a.pageContext.getDeviceID()["id_value"]}}catch(aO){}if(aN.v===undefined){aN.v="js "+a.version}var aM=ax.length-1;ar.vt=(parseInt(ax[aM][2],36)-parseInt(ax[0][2],36))+(ax[aM][1]-ax[aM][0]);if(typeof(PageContext)!=="undefined"&&typeof(PageContext.prototype.addElectronParameters)!=="undefined"){PageContext.prototype.addElectronParameters(ar);aN.v="E "+a.version}if(typeof(PageContext)!=="undefined"&&PageContext.prototype.isCasting!=="undefined"){PageContext.prototype.isCasting()}if(typeof(PageContext)!=="undefined"&&typeof PageContext.prototype.getChromecastID!=="undefined"){aN.v="C "+a.version;aN.cid=PageContext.prototype.getChromecastID()}au.send(aN,ar);aL=an[1]}ap=false}}this.defaultPageContext={getLocalStorageItem:j,setLocalStorageItem:c,preloadImage:I,getWindowLocationURL:d,initHooks:g};this.cordovaPageContext={getLocalStorageItem:j,setLocalStorageItem:c,preloadImage:G,getWindowLocationURL:D,initHooks:aa};this.HTML5Adapter={getMeta:J,getPosition:w,getDuration:u};this.DefaultAdapter={getMeta:n,getPosition:Y,getDuration:ab};this.WMStreamAdapter={getMeta:y,getPosition:l,getDuration:i};this.RVStreamAdapter={getMeta:ae,getPosition:X,getDuration:V};function J(m){return{pl:"HTML 5 Video",plv:"HTML 5",sx:screen.width,sy:screen.height}}function u(m){return Math.round(m.duration)}function w(m){return m.currentTime}this.HTML5CordovaAdapter={getMeta:N,getPosition:M,getDuration:H};function N(ah){var m="CDV "+a.version;if(a.cordovaAppName===undefined){a.cordovaAppName="";cordova.getAppVersion.getAppName().then(function(ai){a.cordovaAppName=ai})}if(a.cordovaAppVersion===undefined){a.cordovaAppVersion="";cordova.getAppVersion.getVersionNumber().then(function(ai){a.cordovaAppVersion=ai})}if(device.platform=="Android"){a.cordovaGID=md5(device.uuid).substring(0,16);if(a.cordovaAID===undefined){a.cordovaAID="";if(cordova.plugins.idfa!==undefined){cordova.plugins.idfa.getInfo().then(function(ai){a.cordovaAID=md5(ai.aaid).substring(0,16);a.cordovaLimitAdTracking=ai.limitAdTracking})}}return{pl:"HTML 5 Video",plv:"HTML 5",v:m,sx:screen.width,sy:screen.height,aid:a.cordovaAID,gid:a.cordovaGID,os:device.platform,osv:device.version,av:a.cordovaAppVersion,an:a.cordovaAppName,app:a.cordovaAppName}}else{if(device.platform=="iOS"){a.cordovaIFV=md5(device.uuid).substring(0,16);return{pl:"HTML 5 Video",plv:"HTML 5",v:m,sx:screen.width,sy:screen.height,ifv:a.cordovaIFV,os:device.platform,osv:device.version,av:a.cordovaAppVersion,an:a.cordovaAppName,app:a.cordovaAppName}}else{return{pl:"HTML 5 Video",plv:"HTML 5",v:m,sx:screen.width,sy:screen.height,os:device.platform,osv:device.version,an:a.cordovaAppName,av:a.cordovaAppVersion}}}}function H(m){return Math.round(m.duration)}function M(m){return m.currentTime}function n(m){return{pl:"DEF",plv:version,sx:screen.width,sy:screen.height}}function Y(m){return new Date().getTime()/1000}function ab(m){return 0}function y(m){return{pl:"MSWM",plv:m.versionInfo,sx:screen.width,sy:screen.height}}function l(m){if(m.CurrentPosition){return m.CurrentPosition}if(m.currentPosition){return m.currentPosition}if(m.controls&&m.controls.currentPosition){return m.controls.currentPosition}if(m.Controls&&m.Controls.currentPosition){return m.Controls.currentPosition}return 0}function i(m){if(m.currentMedia){if(m.currentMedia.Duration){return m.currentMedia.Duration}if(m.currentMedia.duration){return m.currentMedia.duration}}else{if(m.CurrentMedia){if(m.CurrentMedia.duration){return m.CurrentMedia.duration}if(m.CurrentMedia.Duration){return m.CurrentMedia.Duration}}}}function ae(m){return{pl:"RV",plv:m.GetVersionInfo(),sx:screen.width,sy:screen.height}}function X(m){return(m.GetPosition()/1000)}function V(m){return(m.GetLength()/1000)}function c(m,ah){localStorage.setItem(m,ah)}function j(m){return localStorage.getItem(m)}function I(m){(new Image()).src=m}function g(){}function aa(){if(a.cordovaSetCloseHook==undefined){a.cordovaSetCloseHook==true;document.addEventListener("pause",m,false);function m(){b()}}}function D(){return"https://"}function G(ai){const ah={method:"get"};var m="Cordova <"+device.platform+" "+device.version+">";cordova.plugin.http.setHeader("User-Agent",m);cordova.plugin.http.sendRequest(ai,ah,function(aj){a.debug("Request respopnse: "+aj.status)},function(aj){a.warn("Request respopnse: "+aj.status+":"+aj.error)})}function d(){return document.location.href}}SpringStreams.prototype.setPageContext=function(a){this.pageContext=a};function md5(D){var E;var y=function(b,a){return(b<<a)|(b>>>(32-a))};var I=function(k,b){var W,a,d,x,c;d=(k&2147483648);x=(b&2147483648);W=(k&1073741824);a=(b&1073741824);c=(k&1073741823)+(b&1073741823);if(W&a){return(c^2147483648^d^x)}if(W|a){if(c&1073741824){return(c^3221225472^d^x)}else{return(c^1073741824^d^x)}}else{return(c^d^x)}};var r=function(a,c,b){return(a&c)|((~a)&b)};var q=function(a,c,b){return(a&b)|(c&(~b))};var p=function(a,c,b){return(a^c^b)};var n=function(a,c,b){return(c^(a|(~b)))};var v=function(X,W,ab,aa,k,Y,Z){X=I(X,I(I(r(W,ab,aa),k),Z));return I(y(X,Y),W)};var f=function(X,W,ab,aa,k,Y,Z){X=I(X,I(I(q(W,ab,aa),k),Z));return I(y(X,Y),W)};var G=function(X,W,ab,aa,k,Y,Z){X=I(X,I(I(p(W,ab,aa),k),Z));return I(y(X,Y),W)};var u=function(X,W,ab,aa,k,Y,Z){X=I(X,I(I(n(W,ab,aa),k),Z));return I(y(X,Y),W)};var e=function(W){var X;var d=W.length;var c=d+8;var b=(c-(c%64))/64;var x=(b+1)*16;var Y=new Array(x-1);var a=0;var k=0;while(k<d){X=(k-(k%4))/4;a=(k%4)*8;Y[X]=(Y[X]|(W.charCodeAt(k)<<a));k++}X=(k-(k%4))/4;a=(k%4)*8;Y[X]=Y[X]|(128<<a);Y[x-2]=d<<3;Y[x-1]=d>>>29;return Y};var s=function(d){var a="",b="",k,c;for(c=0;c<=3;c++){k=(d>>>(c*8))&255;b="0"+k.toString(16);a=a+b.substr(b.length-2,2)}return a};var t=function(d){d=(d+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var b="";var X,a;var x=0;X=a=0;x=d.length;for(var W=0;W<x;W++){var k=d.charCodeAt(W);var c=null;if(k<128){a++}else{if((k>127)&&(k<2048)){c=String.fromCharCode((k>>6)|192)+String.fromCharCode((k&63)|128)}else{c=String.fromCharCode((k>>12)|224)+String.fromCharCode(((k>>6)&63)|128)+String.fromCharCode((k&63)|128)}}if(c!=null){if(a>X){b+=d.substring(X,a)}b+=c;X=a=W+1}}if(a>X){b+=d.substring(X,d.length)}return b};var F=[],M,h,H,w,g,V,U,T,S,P=7,N=12,K=17,J=22,C=5,B=9,A=14,z=20,o=4,m=11,l=16,j=23,R=6,Q=10,O=15,L=21;D=t(D);F=e(D);V=1732584193;U=4023233417;T=2562383102;S=271733878;E=F.length;for(M=0;M<E;M+=16){h=V;H=U;w=T;g=S;V=v(V,U,T,S,F[M+0],P,3614090360);S=v(S,V,U,T,F[M+1],N,3905402710);T=v(T,S,V,U,F[M+2],K,606105819);U=v(U,T,S,V,F[M+3],J,3250441966);V=v(V,U,T,S,F[M+4],P,4118548399);S=v(S,V,U,T,F[M+5],N,1200080426);T=v(T,S,V,U,F[M+6],K,2821735955);U=v(U,T,S,V,F[M+7],J,4249261313);V=v(V,U,T,S,F[M+8],P,1770035416);S=v(S,V,U,T,F[M+9],N,2336552879);T=v(T,S,V,U,F[M+10],K,4294925233);U=v(U,T,S,V,F[M+11],J,2304563134);V=v(V,U,T,S,F[M+12],P,1804603682);S=v(S,V,U,T,F[M+13],N,4254626195);T=v(T,S,V,U,F[M+14],K,2792965006);U=v(U,T,S,V,F[M+15],J,1236535329);V=f(V,U,T,S,F[M+1],C,4129170786);S=f(S,V,U,T,F[M+6],B,3225465664);T=f(T,S,V,U,F[M+11],A,643717713);U=f(U,T,S,V,F[M+0],z,3921069994);V=f(V,U,T,S,F[M+5],C,3593408605);S=f(S,V,U,T,F[M+10],B,38016083);T=f(T,S,V,U,F[M+15],A,3634488961);U=f(U,T,S,V,F[M+4],z,3889429448);V=f(V,U,T,S,F[M+9],C,568446438);S=f(S,V,U,T,F[M+14],B,3275163606);T=f(T,S,V,U,F[M+3],A,4107603335);U=f(U,T,S,V,F[M+8],z,1163531501);V=f(V,U,T,S,F[M+13],C,2850285829);S=f(S,V,U,T,F[M+2],B,4243563512);T=f(T,S,V,U,F[M+7],A,1735328473);U=f(U,T,S,V,F[M+12],z,2368359562);V=G(V,U,T,S,F[M+5],o,4294588738);S=G(S,V,U,T,F[M+8],m,2272392833);T=G(T,S,V,U,F[M+11],l,1839030562);U=G(U,T,S,V,F[M+14],j,4259657740);V=G(V,U,T,S,F[M+1],o,2763975236);S=G(S,V,U,T,F[M+4],m,1272893353);T=G(T,S,V,U,F[M+7],l,4139469664);U=G(U,T,S,V,F[M+10],j,3200236656);V=G(V,U,T,S,F[M+13],o,681279174);S=G(S,V,U,T,F[M+0],m,3936430074);T=G(T,S,V,U,F[M+3],l,3572445317);U=G(U,T,S,V,F[M+6],j,76029189);V=G(V,U,T,S,F[M+9],o,3654602809);S=G(S,V,U,T,F[M+12],m,3873151461);T=G(T,S,V,U,F[M+15],l,530742520);U=G(U,T,S,V,F[M+2],j,3299628645);V=u(V,U,T,S,F[M+0],R,4096336452);S=u(S,V,U,T,F[M+7],Q,1126891415);T=u(T,S,V,U,F[M+14],O,2878612391);U=u(U,T,S,V,F[M+5],L,4237533241);V=u(V,U,T,S,F[M+12],R,1700485571);S=u(S,V,U,T,F[M+3],Q,2399980690);T=u(T,S,V,U,F[M+10],O,4293915773);U=u(U,T,S,V,F[M+1],L,2240044497);V=u(V,U,T,S,F[M+8],R,1873313359);S=u(S,V,U,T,F[M+15],Q,4264355552);T=u(T,S,V,U,F[M+6],O,2734768916);U=u(U,T,S,V,F[M+13],L,1309151649);V=u(V,U,T,S,F[M+4],R,4149444226);S=u(S,V,U,T,F[M+11],Q,3174756917);T=u(T,S,V,U,F[M+2],O,718787259);U=u(U,T,S,V,F[M+9],L,3951481745);V=I(V,h);U=I(U,H);T=I(T,w);S=I(S,g)}var i=s(V)+s(U)+s(T)+s(S);return i.toLowerCase()};